# 快速部署检查指南

## 🔍 检查项目是否已部署

从你的 Tomcat 日志来看，只有 `manager` 应用被部署了，你的项目可能还没有部署。

### 方法1：检查 IntelliJ IDEA 部署配置

1. **检查 Run Configuration**
   - 点击右上角的运行配置下拉菜单
   - 选择你的 Tomcat 配置
   - 点击 `Edit Configurations...`
   - 切换到 `Deployment` 标签
   - **确认是否有 Artifact 被添加**
   - 应该看到类似：`数据库课程设计:war exploded` 或 `数据库课程设计:war`

2. **如果没有 Artifact，需要创建：**
   - `File` → `Project Structure` (或按 `Ctrl+Alt+Shift+S`)
   - 左侧选择 `Artifacts`
   - 点击 `+` → `Web Application: Exploded` → `From Modules...`
   - 选择你的模块（数据库课程设计）
   - 确认 `Output directory` 指向正确的路径
   - 点击 `OK`

3. **重新配置 Tomcat：**
   - 回到 `Edit Configurations`
   - 在 `Deployment` 标签中，点击 `+` → `Artifact`
   - 选择刚才创建的 `数据库课程设计:war exploded`
   - **Application context** 设置为 `/`（这样访问地址就是 `http://localhost:8080/`）
   - 点击 `OK`

4. **重新运行 Tomcat**
   - 停止当前 Tomcat（红色停止按钮）
   - 重新运行（绿色运行按钮）
   - 查看控制台，应该能看到你的项目被部署的日志

---

## 🚀 访问地址

部署成功后，访问以下地址：

### 主要页面
- **首页**: `http://localhost:8080/`
- **书目查询**: `http://localhost:8080/book`
- **购物车**: `http://localhost:8080/order/cart`
- **订单列表**: `http://localhost:8080/order/list`
- **采购单列表**: `http://localhost:8080/purchase/list`
- **客户信息**: `http://localhost:8080/customer/info`
- **发货管理**: `http://localhost:8080/shipment/list`

---

## ⚠️ 常见问题

### 问题1：404 错误
**原因**：项目未部署或 Application context 配置错误

**解决**：
1. 检查 Tomcat 控制台是否有部署日志
2. 检查 `Deployment` 中的 `Application context` 设置
3. 如果设置为 `/bookstore`，访问地址应该是 `http://localhost:8080/bookstore/`

### 问题2：500 错误（服务器内部错误）
**原因**：代码异常或数据库连接失败

**解决**：
1. 查看 Tomcat 控制台的错误信息
2. 检查 `DBUtil.java` 中的数据库连接配置
3. 确认 MySQL 服务已启动
4. 确认数据库中有测试数据

### 问题3：中文乱码
**原因**：字符编码配置不正确

**解决**：
1. 确认 `web.xml` 中配置了 `CharacterEncodingFilter`
2. 确认所有 JSP 页面设置了 `pageEncoding="UTF-8"`
3. 确认数据库连接 URL 包含 `characterEncoding=utf8mb4`

### 问题4：找不到 Servlet 类
**原因**：编译后的 class 文件未包含在部署中

**解决**：
1. `Build` → `Rebuild Project`
2. 确认 `Artifacts` 配置中包含了编译后的 class 文件
3. 检查 `WEB-INF/classes` 目录是否存在

---

## 📝 手动检查部署

### 检查部署目录

Tomcat 的部署目录通常在：
```
C:\Users\MKevin\AppData\Local\JetBrains\IntelliJIdea2025.1\tomcat\828c0125-8dc1-4b1c-b351-75f80979adb1\webapps\
```

或者：
```
C:\Users\MKevin\Desktop\数据库课程设计\lib\apache-tomcat-9.0.113-windows-x64\apache-tomcat-9.0.113\webapps\
```

应该能看到你的项目文件夹（根据 Application context 命名）。

### 检查项目结构

部署后的项目应该包含：
```
项目名/
├── index.jsp
├── css/
├── js/
├── jsp/
└── WEB-INF/
    ├── web.xml
    └── classes/
        ├── servlet/
        ├── dao/
        ├── service/
        └── ...
```

---

## 🔧 快速修复步骤

如果项目没有部署，按以下步骤操作：

1. **停止 Tomcat**（如果正在运行）

2. **检查 Artifact**
   - `File` → `Project Structure` → `Artifacts`
   - 如果没有，创建 `Web Application: Exploded`

3. **配置 Tomcat Deployment**
   - `Run` → `Edit Configurations...`
   - 选择你的 Tomcat 配置
   - `Deployment` 标签 → `+` → `Artifact`
   - 选择你的项目 Artifact
   - `Application context` 设置为 `/`

4. **重新编译**
   - `Build` → `Rebuild Project`

5. **重新运行 Tomcat**
   - 点击运行按钮
   - 查看控制台是否有部署日志

6. **访问首页**
   - 浏览器打开 `http://localhost:8080/`
   - 应该能看到首页

---

## 📞 需要帮助？

如果按照以上步骤仍然无法部署，请提供：
1. Tomcat 控制台的完整日志
2. IntelliJ IDEA 的 `Deployment` 配置截图
3. 访问地址和错误信息

